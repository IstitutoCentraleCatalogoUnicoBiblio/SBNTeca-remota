<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:th="http://www.thymeleaf.org"
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
    <head th:replace="teca_digitale :: header"></head>
    <body>
        <script src="js/users.js" type="text/javascript"></script>
        <div th:replace="teca_digitale :: heading"></div>
        <div class="container-fluid">
        	<div class="row-fluid">
        		<div class="span2">
        			<div th:replace="teca_digitale :: menu"></div>
        		</div>
        		<div class="span10 row">
        			<div class="page-menu-header"><h3 th:text="${#httpServletRequest.servletPath.contains('New') ? 'Nuovo Utente' : 'Modifica Utente'}"></h3></div>
        		</div>
        		<div class="span9 row">
        			<div class="row-fluid">
        				<div class="span10 offset1">
        					<div th:if="${error}" class="alert alert-error" th:text="${error}"></div>
        				</div>
        			</div>
        			<div class="row-fluid">
        				<div class="span10 offset1 well form-horizontal">
        					<input type="hidden" id="user_id" th:value="${user.id}" />
        					<div class="control-group">
                                <label title="Specifica username" class="control-label" for="ouser_username">Username: </label>
                                <div class="controls"><input type="text" id="user_username" th:value="${user.username}" class="span8" /></div>
                            </div>
                            <div class="control-group">
                                <label title="Specifica password" class="control-label" for="user_password">Password: </label>
                                <div class="controls"><input type="password" id="user_password" th:value="${user.password}"  class="span8" /></div>
                            </div>
                            <div class="control-group">
                                <label title="Abilitazione dell'utente all'accesso" class="control-label" for="user_enabled">Abilitato: </label>
                                <div class="controls"><input type="checkbox" id="user_enabled" th:checked="${user.enabled}" /></div>
                            </div>
                            <div class="control-group">
                                <label title="Specifica nome" class="control-label" for="user_name">Nome: </label>
                                <div class="controls"><input type="text" id="user_name" th:value="${user.name}" class="span8" /></div>
                            </div>
                            <div class="control-group"> 
                                <label title="Specifica cognome" class="control-label" for="user_surname">Cognome: </label>
                                <div class="controls"><input type="text" id="user_surname" th:value="${user.surname}" class="span8" /></div>
                            </div>
                            <div class="control-group"> 
                                <label title="Specifica email" class="control-label" for="user_email">Email: </label>
                                <div class="controls"><input type="text" id="user_email" th:value="${user.email}" class="span8" /></div>
                            </div>
                            <div class="control-group">
                                <label title="Specifica ruolo" class="control-label" for="user_role">Ruolo: </label>
                                <div class="controls">
                                	<select id="user_role">
                                    	<option th:each="role : ${roles}" th:value="${role.id}" th:text="${role.name}" th:selected="${user.userRole != null &amp;&amp; user.userRole.id == role.id}"></option>
                                	</select>
                                </div>
                            </div>
                            <div class="control-group"></div>
                            <div class="control-group"></div>
                            <div class="control-group"> 
                                <input type="button" id="saveBtn" class="btn btn-primary" value="Salva" />
                                <input type="button" id="undoBtn" class="btn btn-default" onclick="window.location.href = 'users';" value="Annulla" />
                            </div>
        				</div>
        			</div>
                </div>
            </div>
        </div>
        <footer th:replace="teca_digitale :: footer"></footer>
    </body>
</html>